# Implement Daily Chinese Fortune Sticks (Siamsi/Kau Cim) System

## 1. Backend Implementation (Rust/Axum)

### Database Schema

* Create `fortune_sticks` table (id, number, poem\_text, interpretation, lucky\_direction, etc.)

* Create `daily_fortunes` table to track user's daily draw (user\_id, date, stick\_id) to ensure one draw per day.

### Domain Layer

* Define `FortuneStick` entity.

* Define `DailyFortune` entity.

* Create `FortuneRepository` trait.

### Infrastructure Layer

* Implement `FortunePostgres` repository.

* Create SQL migration for fortune data (seed 1-20 or 1-64 standard Siamsi/Kau Cim texts).

### Application Layer

* Create `FortuneUseCase`.

  * `draw_daily_fortune(user_id)`: Check if drawn today -> return existing; else -> random draw -> save -> return.

### API Router

* Add `GET /api/v1/fortune/daily` endpoint.

## 2. Frontend Implementation (Angular)

### Service

* Update `CardService` or create `FortuneService` to handle API calls.

### Component (`app-fortune`)

* **Visuals:**

  * An animated container (cylinder) with sticks.

  * Shake animation using CSS/Angular animations.

  * "Stick falling out" effect.

* **Display:**

  * Show the result as a traditional Chinese paper slip.

  * Display poem/prediction text in a vertical layout if possible (or standard horizontal with styling).

## 3. Integration

* Add "Daily Fortune" link to Navbar (maybe icon of a Kau Cim container).

* Add entry point in Home page.

## 4. Theme Alignment

* Ensure visuals match the "Ink Wash" theme (Black/White/Red).

